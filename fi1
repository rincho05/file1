import xml.etree.ElementTree as ET

# Example SOAP XML response
soap_xml = '''
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
    <soap:Body>
        <GetPersonResponse xmlns="http://tempuri.org/">
            <GetPersonResult>
                <citizenship>
                    <code>840</code>
                    <nameRu>США</nameRu>
                    <nameKz>АҚШ</nameKz>
                    <changeDate>2013-09-19T09:45:49+06:00</changeDate>
                </citizenship>
                <lifeStatus>
                    <code>0</code>
                    <nameRu>Нормальный</nameRu>
                    <nameKz>Қалыпты</nameKz>
                    <changeDate>2013-09-19T09:45:30+06:00</changeDate>
                </lifeStatus>
                <birthPlace>
                    <country>
                        <code>398</code>
                        <nameRu>КАЗАХСТАН</nameRu>
                        <nameKz>ҚАЗАҚСТАН</nameKz>
                        <changeDate>2013-09-19T09:45:48+06:00</changeDate>
                    </country>
                </birthPlace>
            </GetPersonResult>
        </GetPersonResponse>
    </soap:Body>
</soap:Envelope>
'''

# Parse the SOAP XML response
root = ET.fromstring(soap_xml)

# Define the namespace used in the SOAP XML
namespace = {'ns': 'http://tempuri.org/'}

# Extract the citizenship element
citizenship_element = root.find('.//ns:citizenship', namespace)
citizenship_code = citizenship_element.find('ns:code', namespace).text
citizenship_name_ru = citizenship_element.find('ns:nameRu', namespace).text
citizenship_name_kz = citizenship_element.find('ns:nameKz', namespace).text
citizenship_change_date = citizenship_element.find('ns:changeDate', namespace).text

# Extract the birthPlace/country element
birthplace_country_element = root.find('.//ns:birthPlace/ns:country', namespace)
birthplace_country_code = birthplace_country_element.find('ns:code', namespace).text
birthplace_country_name_ru = birthplace_country_element.find('ns:nameRu', namespace).text
birthplace_country_name_kz = birthplace_country_element.find('ns:nameKz', namespace).text
birthplace_country_change_date = birthplace_country_element.find('ns:changeDate', namespace).text




import xml.etree.ElementTree as ET

# Example SOAP XML response
soap_response = '''
    <persons>
        <person>
            <iin>660427402182</iin>
            <surname>БИСЕНОВА</surname>
            <name>БАХТЫГУЛ</name>
            <patronymic>ОХАСОВНА</patronymic>
            <engFirstName>BAKHTYGUL</engFirstName>
            <engSurname>BISSENOVA</engSurname>
            <birthDate>1966-04-27</birthDate>
            <gender>
                <code>2</code>
                <nameRu>Женский</nameRu>
                <nameKz>Әйел</nameKz>
                <changeDate>2013-09-19T09:44:33+06:00</changeDate>
            </gender>
            <nationality>
                <code>005</code>
                <nameRu>КАЗАШКА</nameRu>
                <nameKz>ҚАЗАҚ</nameKz>
                <changeDate>2013-09-19T09:45:37+06:00</changeDate>
            </nationality>
        </person>
    </persons>
'''

# Parse the SOAP XML response using ElementTree
root = ET.fromstring(soap_response)

# Find the person elements and loop through them
persons = root.findall('person')
for person in persons:
    # Find the values of the person's attributes
    iin = person.find('iin').text
    surname = person.find('surname').text
    name = person.find('name').text
    patronymic = person.find('patronymic').text
    engFirstName = person.find('engFirstName').text
    engSurname = person.find('engSurname').text
    birthDate = person.find('birthDate').text
    
    # Find the values of the gender and nationality elements
    gender_code = person.find('gender/code').text
    gender_nameRu = person.find('gender/nameRu').text
    gender_nameKz = person.find('gender/nameKz').text
    gender_changeDate = person.find('gender/changeDate').text
    
    nationality_code = person.find('nationality/code').text
    nationality_nameRu = person.find('nationality/nameRu').text
    nationality_nameKz = person.find('nationality/nameKz').text
    nationality_changeDate = person.find('nationality/changeDate').text
    
    # Print the person's attributes and element values
    print(f"IIN: {iin}")
    print(f"Surname: {surname}")
    print(f"Name: {name}")
    print(f"Patronymic: {patronymic}")
    print(f"EngFirstName: {engFirstName}")
    print(f"EngSurname: {engSurname}")
    print(f"BirthDate: {birthDate}")
    print(f"Gender Code: {gender_code}")
    print(f"Gender NameRu: {gender_nameRu}")
    print(f"Gender NameKz: {gender_nameKz}")
    print(f"Gender ChangeDate: {gender_changeDate}")
    print(f"Nationality Code: {nationality_code}")
    print(f"Nationality NameRu: {nationality_nameRu}")
    print(f"Nationality NameKz: {nationality_nameKz}")
